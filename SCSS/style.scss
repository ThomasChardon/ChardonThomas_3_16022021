/*dans le terminal, lancer
./dart-sass/sass SCSS/style.scss CSS/style.css --watch
ca indique de lancer sass, se baser sur le fichier style scss, générer le fichier style css, et mettre a jour a chaque sauvegarde
*/

@import "./utils/variables";

/*Section fonts*/
@font-face
{
    font-family: 'Shrikhand';
    src: url("../fonts/Shrikhand-Regular.ttf") format("truetype");
    font-style:normal;
}

@font-face
{
    font-family: 'Roboto';
    src: url("../fonts/Roboto-Medium.ttf") format("truetype");
    font-style:normal;
}

@font-face
{
    font-family: 'RobotoLight';
    src: url("../fonts/Roboto-Light.ttf") format("truetype");
    font-style:normal;
}

/* Les mixin */
@mixin font-logo()
{
    font-family: 'Shrikhand';
}

@mixin font-text($taille : $taille-regular)
{
    font-family: $taille;
}

@mixin marges-auto($specification : auto)
{
    margin-right: $specification;
    margin-left: $specification;
}

@mixin flex_center($align-center : initial) /*Celle ci permet d'aligner automatiquement sur l'axe horizontal, avec vertical en option*/
{
    display: flex;
    justify-content: center;
    align-items: $align-center;
}

@mixin boucle-apparition () {
    @for $i from 1 through 50 {
        &:nth-child(#{$i}) {
            animation: apparition 1000ms #{$i * .2}s;
            animation-fill-mode: both;
            animation-timing-function: linear;
        }
    }
}

/* Les Keyframes */

@keyframes apparition {
    0% {
        transform:translateY(40px);
        opacity: 0;
    }
    25% {
        transform:translateY(30px);
        opacity: 0;
    }
    50% {
        transform:translateY(20px);
        opacity: 0;
    }
    75% {
        transform:translateY(10px);
        opacity: 0.3;
    }
    100% {
        transform:translateY(0);
        opacity: 1;
    }
}

/* Règle générale à toute les pages */
body {
    margin : 0;
    @include font-text();
}

.max-width-container {
    @include marges-auto();
    max-width: 300px;
}

button {
    @include flex_center(center);
    border-radius: 20px;
    cursor: pointer;
    border: 0 $blanc solid;
    width: 200px;
    height: 40px;
    background: linear-gradient(to top left, $couleur-primaire, $couleur-secondaire);
    color: $blanc;
    box-shadow: 0 4px 4px darken($gris-clair, 10%);
    &:hover {
        background: linear-gradient(to top left,lighten($couleur-primaire, 2%), lighten($couleur-secondaire, 5%));
        box-shadow: 0 5px 3px darken($blanc, 15%);
    }
}

/*Tous les liens*/
a {
    text-decoration: none;
    color:$noir;
    cursor: pointer;
}

/*Header*/
header {
    @include flex_center();
}

.Titre {
    display: flex;
    width: 330px;
    @include font-logo();
    @include flex_center();
    a {
        display: flex;
        align-items: center;
        color: $noir;
        margin-left: $espacement_petit;
        margin-right: $espacement_petit;
    }
    h1 {
        @include marges-auto();
        margin-bottom: $espacement_petit;
        margin-top: $espacement_petit;
    }
}

/* footer */
footer {
    @include font-logo();
    padding-left: $espacement_moyen;
    padding-top: $espacement_moyen;
    margin-top: -50px; /* sert a corriger l'écart produit par le changement de position sous la bannière */
    padding-bottom: 2px;
    color : $blanc;
    background-color: $gris-sombre;
    .footer_contact {
        color:$blanc;
        &:hover {
            color: darken($gris-clair, 20%);
        }
    }
}

/*PAGE ACCUEIL*/
/* Chargement de la page */
.loader,
.loader:before,
.loader:after {
  border-radius: 50%;
  width: 2.5em;
  height: 2.5em;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
  -webkit-animation: load7 0.8s ease-in-out 3;
  animation: load7 0.8s ease-in-out 3;
}
.loader {
  color: $couleur-primaire;
  font-size: 10px;
  margin: 80px auto;
  position: relative;
  text-indent: -9999em;
  -webkit-transform: translateZ(0);
  -ms-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-animation-delay: -0.16s;
  animation-delay: -0.16s;
}
.loader:before,
.loader:after {
  content: '';
  position: absolute;
  top: 0;
}
.loader:before {
  left: -3.5em;
  -webkit-animation-delay: -0.32s;
  animation-delay: -0.32s;
}
.loader:after {
  left: 3.5em;
}
@-webkit-keyframes load7 {
  0%,
  80%,
  100% {
    box-shadow: 0 2.5em 0 -1.3em;
  }
  40% {
    box-shadow: 0 2.5em 0 0;
  }
}
@keyframes load7 {
  0%,
  80%,
  100% {
    box-shadow: 0 2.5em 0 -1.3em;
  }
  40% {
    box-shadow: 0 2.5em 0 0;
  }
}

/* Va de pair avec la classe loader de index.html (retirée pour l'instant).
sujet à voir car flou pour ma part */



/* Section sous le header avant les restaurants */
.utilisateur--localisation {
    @include flex_center();
    background-color: $gris-clair;
    padding-top: $espacement_moyen;
    padding-bottom: $espacement_moyen;
    box-shadow: 0 -5px 3px darken($gris-clair, 10%);
    .fa-map-marker-alt {
        margin-right: 20px;
    }
}

.bloc_sous_header {
    background-color: darken($blanc, 3%);
    padding-top: 1px;
    padding-bottom: 40px;
    .Description_application {
        @include font-text($textefin);
        text-align : center;
        padding-bottom: $espacement_moyen;
        h2 {
            @include font-text();
            @include marges-auto();
            width : 80% ;
        }
    }
}

/* deuxième div */

.Application--fonctionnement {
    margin-bottom: 70px;
}

.Fonctionnement--details {
    @include flex_center(center);
    background-color: darken($blanc, 3%);
    box-shadow: 0 4px 4px darken($blanc, 10%);
    border-radius: 30px;
    margin-bottom: $espacement_moyen;
    height: 80px;
    .details_nombres {
        @include flex_center();
        position: relative;
        left: -5px;
        background-color: $couleur-primaire;
        color: $blanc;
        width: $espacement_moyen;
        height: $espacement_moyen;
        align-items: center;
        border-radius: 10px;
        font-size: small;
    }
    .fas {
        @include marges-auto(25px);
        color: $couleur-primaire;
    }
    .details_phrases {
        margin-left: 0;
        margin-right: auto;
    }
    &:hover {
        background-color: lighten($couleur-primaire, 36%);
        box-shadow: 0 5px 3px darken($blanc, 15%);
    }
}

/* liste des restaurants*/

.Liste_restaurants {
    background-color: darken($blanc, 3%);
    padding-bottom: 100px;
    padding-top: 40px;
    h1 {
        @include marges-auto($espacement_moyen); /* attention cela impacte aussi les h1 sous les photos */
    }
    .restaurants {
        min-width: 300px;
        background-color: $blanc;
        border-radius: $espacement_moyen;
        box-shadow: 0 4px 4px darken($blanc, 10%);
        color:$noir;
        margin-bottom: $espacement_moyen;
        overflow: hidden;
        &:hover a img {
            transform:scale(1.25);
            transform-origin: bottom;
            transition: all 0.4s;
        }
        .restaurant--picture {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            transition: all 0.4s;
            transform-origin: bottom;
        }
        h1 {
            margin-bottom: 0;
        }
        .restaurant_localisation {
            @include font-text($textefin);
            @include marges-auto($espacement_moyen);
        }
        .fa-heart {
            width:20px;
            margin-left: 274px;
            display: flex;
            justify-content: flex-end;
            position: relative;
            left: -20px;
            top: -30px;
            color: grey;
            transition: transform 400ms, color 400ms;
            &:hover + .coeur {
                transform: scale(1);
            }
            &:hover {
                color:$couleur-primaire;
            }
        }
        .coeur {
            width:20px;
            margin-left: 274px;
            position: relative;
            left: -20px;
            top: -45px;
            transform-origin: 10px 5px;
            transform: scale(0);
            background: -webkit-linear-gradient(top right, $couleur-primaire, $couleur-secondaire);
            -webkit-background-clip: text;
                    background-clip: text;
            -webkit-text-fill-color: transparent;
            &:hover {
                transform: scale(1);
            }
        }
    }
    
}


/* PAGE RESTAURANT*/

/*body*/
.banniere_restaurant {
    width: 100%;
    height: 250px;
    object-fit: cover;
}

.Menu_du_restaurant {
    position: relative;
    top: -50px;
    background-color: darken($blanc, 3%);
    padding-top: 1px;
    padding-bottom: 1px;
    border-top-left-radius: 50px;
    border-top-right-radius: 50px;
    h1 {
        padding-top: $espacement_moyen;
        margin-left: $espacement_moyen;
        @include font-logo();
    }
    h1, .fa-heart {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-right: $espacement_petit;
    }
}

.section_des_menus{
    // div:nth-child(n) {
    //     animation: apparition 1000ms;
    //     animation-fill-mode: both;
    //     animation-timing-function: linear;
    // }
    > div {
        @include boucle-apparition();
    }
    .detail_menu_plats {
        width: 100%;
        transition: width 500ms;
    }
    > h3 {
        @include font-text($textefin);
        padding-top:$espacement_moyen;
        margin-left: $espacement_petit;
        padding-bottom: $espacement_petit;
        border-bottom: 3px $couleur-tertiaire solid;
        width: 50px; /* sert a changer la taille de la bordure verte*/
    }
    .menu_plats {
        overflow: hidden;
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        background-color: $blanc;
        @include font-text($textefin);
        box-shadow: 0 4px 4px darken($blanc, 10%);
        border-radius: $espacement_moyen;

        
        h3 {
            margin-bottom: 0;
            @include font-text();
            margin-left: $espacement_petit;
        }
        .menu_details {
            display: flex;
            justify-content: space-between;
            // width: 240px;
            padding-top: 5px;
            padding-bottom: $espacement_petit;
            margin-left: $espacement_petit;
            p{
                width: 80%;
                text-overflow: ellipsis;
                white-space: nowrap;
                overflow: hidden;
                margin: 0;
            }
        }
        .menu_prix {
            @include font-text();
            width: 40px;
            padding-left: 10px;
        }
        .Animation_selection_menu {
            display: flex;
            background-color: $couleur-tertiaire;
            width: 0;
            border-top-right-radius: $espacement_moyen;
            border-bottom-right-radius: $espacement_moyen;
            transition: width 500ms;
            transform: width(50px);
            transform-origin: right;
            .fa-check-circle {  
                color:$blanc;
                width:100%;
                @include flex_center(center);
                transform: rotate(0deg);
            }
            &:hover {
                transition: width 500ms ease-in-out;
                width:50px;
            }
        }
        cursor: pointer;
        &:hover > .Animation_selection_menu { 
            transition: width 500ms ease-in-out;
            width:50px;
            .fa-check-circle { 
                transition: transform 500ms ease-in-out;
                transform: rotate(360deg);
                // animation-direction: reverse;
            }
        }
        &:hover > .detail_menu_plats { 
            transition: width 500ms ease-in-out;
            width:84%;
        }
    }
}


.boutton_commander {
    margin-top: 50px;
    margin-bottom: 50px;
}

/*footer*/
.infos_footer {
    @include font-text();

    /*insérer media queries ici */

    ul {
        list-style-type: none;
        padding-left: 0;
        li {
            margin-bottom: $espacement_petit;
        }
    }
    .fa-utensils, .fa-hands-helping {
        margin-right: $espacement_petit;
        width: $espacement_moyen;
    }

}



/*
Questions à poser

loeader : comment ça marche ?

Comment organiser les pages html ?Dossier ou non ? noms en durs ou non ?

CSS
7-1
peut-être adapter
dossiers :
variables
mixin
fonctions

*/

/*
TO DO list

1 Faire les animations 

2 passer au W3C, tester sur firefox

3 Faire les media queries (voir exemple footer)

4 créer chaque restaurant




Finir les animations
Finir la version responsive
Checker le W3C
Objectifs secondaires :
version tablette / desktop : voir les réarrengements
préparer la soutenance (en dernier objectif si tout est terminé au dessus)
*/